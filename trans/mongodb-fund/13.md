# 13。MongoDB 案例研究

概述

在本章中，您将了解如何在业务用例中使用 MongoDB。它从一个场景开始，在这个场景中，一个虚构的市议会和一家当地初创企业联合开发了一个基于移动应用程序的自行车共享平台。然后将介绍详细的项目提案和一些挑战，以及如何使用基于 MongoDB Atlas 的数据库即服务解决方案解决这些挑战。最后，您将探索 MongoDB 如何用于某些用例，检查每个用例，并验证数据库设计是否涵盖所有需求。

# 导言

到目前为止，在本书中，我们已经成功地掌握了 MongoDB 的各个方面，包括灾难恢复的基本介绍。对于您选择学习的任何工具或技术，了解如何使用它是很重要的，这就是我们在前面章节中所取得的成果。那么，这最后一章将重点介绍如何使用这项技术来解决现实生活中的问题，并使生活更轻松。

在本章中，我们将研究一个虚构的市议会和他们即将推出的自行车共享项目的用例。首先，我们将了解该项目的细节，并了解为什么需要它；然后，我们将介绍这些需求，并了解 MongoDB 如何解决它们的问题。

# 费尔贝市议会

费尔湾是一座位于北罗斯兰东海岸的城市，传统上以其宜人的气候和历史意义而闻名。它也是该国的主要商业中心之一。在过去二十年中，这座城市创造了巨大的就业机会，吸引了来自全国各地和全球各地的人才。因此，在过去十年中，该市人口大幅增加，这反过来又推动了该市的房地产市场。

该市正在快速扩张，当地市议会正在努力评估和重新开发该市的基本基础设施和设施，以保持其舒适度指数。他们经常对其公共基础设施进行调查和评估，以确定公众提出的一些最常见问题。

在过去的评估和调查中，当地社区的居民反复提出以下问题：

*   当地交通总是很拥挤。
*   交通经常堵塞。
*   燃油和停车费都在上涨。
*   城市中心地区的空气质量很差。
*   通勤时间在增加。

为了解决这些投诉，该委员会邀请企业、初创企业甚至公众提出明智和创新的想法和相关项目提案。经仔细审查和批准后，最好的提案将提交国家发展计划委员会供资。该委员会的倡议迄今为止取得了巨大成功，因为它们有几个广受欢迎的想法。今年，提交的一个项目提案引起了大家的注意。当地一家初创企业提议推出费尔贝城市自行车，这是一个在线自行车共享平台。除了是一个独特、创新的解决方案外，它也是最环保的项目提案之一。以下各节概述了他们提案的细节。

# 费尔贝城市自行车

人口稠密的大都市经常遭受交通拥堵和公共交通过度拥挤的困扰。自行车共享计划是一种可持续的旅行方式，有几个原因。它提供了一种比汽车、公共交通或私人自行车更健康、更便宜的交通方式。它包括在全市不同地点采购和停放自行车。这些自行车可供公众使用，先到先得，进入城市。通常，自行车的预订和跟踪通过在线平台进行控制。研究和调查得出结论，实施良好的自行车共享计划可以：

*   减少交通堵塞
*   改善空气质素
*   减少汽车和公共交通的使用
*   帮助人们节省购买其他车辆的费用
*   鼓励健康的生活方式
*   提高社区意识

出于这些原因，许多城市通过在城市中提供自行车共享平台和专用自行车道，积极鼓励骑自行车。Fair Bay City Bikes 项目是下一代自行车共享平台，具有一些独特的特性，例如自动自锁和用户友好的移动应用程序。接下来，我们将看看他们提案的一些主要亮点。

## 提案要点

费尔贝城市自行车项目的一些亮点如下。

### 无码头自行车

费尔湾城市自行车项目是一个无码头自行车共享项目。一般来说，自行车需要专用的底座，以便保持锁定。用户需要访问这些扩展底座来开始和结束他们的游戏。这种系统的主要缺点是在整个城市均匀地设置扩展底座基础设施。建立这样一个网络需要在每个地区找到一个安全和合适的地方，而这往往是无法负担的。其次，人们往往发现很难找到和访问扩展底座。对于用户来说，在目的地附近找不到空的扩展底座是一个常见问题，这会阻碍他们使用系统。

另一方面，无底座自行车有一个内置的自动自锁和解锁机制。它们可以在任何安全的地方或任何专用的停车场取车、停车和停放。用户可以拿起任何停放在其周围区域的自行车，并将其停放在靠近目的地的任何安全停车位。

### 易用性

用户可以在手机上下载和访问城市自行车应用程序。只要提供一些个人信息，如姓名、电话号码和政府颁发的带照片的身份证（如驾照），他们就可以随时自由使用自行车。

要开始骑自行车，用户可以使用应用程序中的“查找”功能，并根据其位置，在地图视图中显示最近可用自行车的列表。然后，用户可以选择任何可用的自行车，并使用应用程序内导航帮助到达它。接下来，用户需要扫描自行车上唯一的快速响应（QR）代码，然后简单地点击解锁。

![Figure 13.1: QR code that the user can scan to unlock a bike ](img/B15507_13_01.jpg)

图 13.1：用户可以扫描以解锁自行车的二维码

解锁自行车后，它将临时与用户帐户关联。完成旅程后，用户需要将自行车停放在安全的位置，打开应用程序，然后单击锁定自行车，这将从用户帐户中释放自行车。

### 实时跟踪

所有自行车都有内置的 GPS 跟踪装置，可以实时跟踪其位置。通过这种跟踪功能，用户可以轻松地在其周围区域搜索可用的自行车，并使用导航辅助来访问自行车。

此外，一旦骑行开始，每 30 秒会跟踪并记录每辆自行车的位置。这些日志将用于报告、分析和跟踪紧急情况或被盗情况下的自行车。用户可以全天候骑自行车到城市的任何地方，实时跟踪帮助他们感觉安全，无论一天中的什么时候。

### 维护保养

所有的自行车都需要定期维护和仔细检查，以确保它们能有效工作。保养每 15 天进行一次，在此期间清洁自行车，润滑运动部件，检查和调节轮胎压力，检查和调整制动器。每天，系统都会识别需要维护的自行车，将其从系统上的可用自行车列表中删除，并通知一组技术人员。

# 技术讨论和决策

该提案得到了安理会成员的高度赞赏，他们对其尖端功能和低成本实施印象深刻，因为无对接系统比使用对接自行车便宜得多。市政局准备采购自行车，修建自行车道，并在全市实施信号系统。他们还将准备使用和安全指南以及处理广告。初创团队负责构建 IT 基础设施和移动应用程序。

委员会坚持要求团队将 IT 基础设施成本控制在最低水平，减少总体推出时间，并为未来的需求变化构建一个可扩展且灵活的系统。启动时的技术团队进行了一些研究，以解决这些问题，详见以下章节。

### 快速推出

团队的日程安排很紧，需要找到一种快速*建造和快速*发货的方法。实现这一目标的关键是减少研究时间，采用知名和成熟的技术。技术团队已经准备好了移动应用程序和后端应用程序。他们现在唯一需要做的就是决定一个合适的数据库平台。需要一个数据库来保存客户详细信息、自行车详细信息、自行车的实时位置和骑行详细信息。此数据库平台应该能够快速设置，而无需担心基础架构、集成、安全性或备份。团队决定采用**数据库即服务**（**DBaaS**）解决方案，以提供可靠、可扩展的解决方案，并缩短上市时间。

### 成本效益

由于该委员会同时为许多项目提供资金，因此有点预算紧张。因此，他们决定先从 200 辆自行车开始，观察效果，并寻求公众反馈。根据这一反馈，他们愿意将车队规模增加到 1000，甚至 2000（如果需要）。车队规模的增加将反过来导致需要管理的数据的增加。为此，**DBaaS**平台是一个不错的选择，因为它允许您在需要时以最少的设置和扩展开始。

最初的 200 辆自行车意味着在任何时候最多会有 200 次骑乘。因此，不需要处理大型数据集，因此团队决定采用低 RAM 和低 CPU 集群。随着车队规模的增长，他们可以扩大或缩小规模，成本将始终根据使用要求进行优化。

### 灵活

在一次理事会会议上，一些成员提出了以下建议：

*   收费：只有居民可以免费使用，游客和游客每次乘坐都要收费。
*   使用 passport 作为有效身份证明：将 passport 添加到有效身份证明列表中。没有政府提供的照片 ID 的客户使用其护照在系统中注册。
*   将滑板车加入车队：系统应支持自行车共享和滑板车共享。

这些建议肯定会使系统更加友好，从而改进系统。然而，在将其纳入系统之前，需要进行一些分析。收费和支持不同类型的身份验证需要与联邦和外部系统集成。这种整合需要遵守相关部门发布的不同规则、法规以及安全和隐私政策。

考虑到这些挑战，理事会决定坚持目前的第一阶段计划。建议变更的要求将最终确定并纳入项目第 2 阶段。

技术团队理解，系统需要足够灵活，以纳入任何未来仍然未知或不确定的变更。根据目前的技术设计，用户有一个驾驶执照号码作为身份证，但它需要更灵活地存储其他类型的身份证。此外，要收取费用，模式需要足够灵活，以纳入用户的银行帐户或信用卡详细信息。同样，为了在车队中引入滑板车（可能有不同的维护要求或不同的费用结构），系统需要能够区分自行车和滑板车。

在这种情况下，绑定到严格模式定义的传统数据库实体不是一个好的选择。为了合并将来的一些更改，需要首先更新它们的模式定义。对于传统数据库，模式更改很难展开和回滚。经过仔细考虑和比较，团队决定使用 MongoDB Atlas 集群。MongoDB 提供了灵活的模式以及水平和垂直扩展功能。Atlas 集群只需点击几下即可帮助推出生产级系统，并显著节省成本和时间。在下一节中，我们将介绍详细的数据库设计。

# 数据库设计

根据前面章节的要求，需要持久化的三个基本实体是**用户**、**车辆**和**骑乘**。**用户**和**车辆**实体将分别存储用户和车辆的属性，而**骑乘**实体将在新骑乘开始时创建。

除了基本实体外，还需要一个附加实体来跟踪自行车行驶日志。对于每一次活动骑行，系统都会捕获并记录自行车的位置。日志将用于报告和分析目的。

由于 MongoDB 提供了基于文档的数据集，所有实体都可以轻松地设计为集合。在下一节中，将探讨这些集合及其一些示例记录。

## 用户

**用户**集合保存所有在系统中注册的用户的数据。以下代码段显示了代表其中一个注册用户的示例文档：

```js
{
    "_id" : "a6e36e30-41fa-45bf-93c5-83da4efeed37",
    "email_address" : "ethel.112@example.com", 
    "first_name" : "Ethel",
    "last_name" : "Carter",
    "date_of_birth" : ISODate("1993-06-01T00:00:00Z"),
    "address" : {
        "street" : "51 Thornridge Cir",
        "city" : "Fair Bay",
        "state" : "North Roseland",
        "post_code" : 9924,
        "country" : "Roseland"
    },
    "registration_date" : ISODate("2020-11-24T00:00:00Z"),
    "id_documents" : [
    {
        "drivers_license" : {
            "license_number" : 2771556252,
            "issue_date" : ISODate("2011-04-18T00:00:00Z")
        }
    }],
    "payments" : [
    {
        "credit_card" : {
            "name_on_card" : "Ethel Carter",
            "card_number" : 342610644867494,
            "valid_till" : "3/22"
        }
    }]
}
```

文档中的主键是随机生成的唯一 UUID 字符串。还有其他字段可以保存用户的基本信息，例如他们的名字、姓氏、出生日期、地址、电子邮件地址和系统注册日期。**id_documents**字段是一个数组，当前存储驾驶执照详细信息。将来，当启用其他 ID 类型（如护照）时，用户将能够提供多个 ID 详细信息。作为预防措施，目前正在收集付款详细信息。除非自行车在骑行过程中损坏或被盗，否则不会向客户收取费用。**支付**字段是一个数组，当前存储信用卡详细信息。一旦系统与其他支付网关集成，用户将可以选择其他支付方式。

## 车辆

**车辆**系列代表车队中的自行车。城市自行车最初将有 200 辆。包含所有字段和示例值的车辆文档结构如以下代码段所示：

```js
{
    "_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937",
    "vehicle_type" : "bike|scooter",
    "status" : "available",
    "rollout_date" : ISODate("2020-10-20T00:00:00Z"),
    "make" : {
        "Manufacturer" : "Compass Cycles",
        "model_name" : "Unisex - Flatbar Carbon Frame Road Bike",
        "model_code" : "CBUFLATR101",
        "year" : 2020,
        "frame_number" : "FWJ166K23683958E"
    },
    "gears" : 3,
    "has_basket" : true,
    "has_helmet" : true,
    "bike_type" : "unisex|men|women",
    "location" : {
        "type" : "Point",
        "coordinates" : [
            111.189631,
            -72.454577
        ]
    },
    "last_maintenance_date" : ISODate("2020-11-05T00:00:00Z")
}
```

本文档中的主键是唯一的 UUID 字符串。该 ID 用于在二维码或车辆行驶细节中唯一地表示车辆。还有其他静态字段表示车辆的推出日期、制造商名称、型号、帧号、档位数等。考虑到议会计划在未来推出滑板车，引入了一个名为**车辆类型**的领域。该字段区分自行车和滑板车。**状态**字段表示自行车当前是否可用、是否正在骑乘或是否正在维修（在这种情况下，它是可用的）。此字段可以保存以下三个值中的任意一个：**可用**、**在**上、以及**在**维护下。最后一次保养日期有助于确定车辆是否应进行保养。**位置**字段表示车辆当前的地理位置，在 MongoDB 的**点**类型的地理空间索引中表示。其他可选字段，如**有**、**有**、**自行车**等，可为有特定需求的客户提供服务。请注意，自行车型号可分为**男**、**女**或中性款自行车，而滑板车总是**中性款**。因此，只有当**车辆类型**为**自行车**时，**自行车类型**字段才会出现。

## 骑乘

**骑乘**集合表示出行，该集合中的文档总数表示通过系统的骑乘次数：

```js
{
    "_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "user_id" : "a6e36e30-41fa-45bf-93c5-83da4efeed37",
    "vehicle_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937",
    "start_time" : ISODate("2020-11-25T02:10:00Z"),
    "start_location" : {
        "type" : "Point",
        "coordinates" : [
            111.189631,
            -72.454577
        ]
    },
    "end_time" : ISODate("2020-11-25T03:17:00Z"),
    "end_location" : {
        "type" : "Point",
        "coordinates" : [
            111.045789,
            -72.456144
        ]
    },
    "feedback" : {
        "stars" : 5,
        "comment" : "Navigation helped me locate the bike quickly, enjoyed my           ride. Thank you City Bikes"
    }
}
```

每个游乐设施都有一个随机生成的 UUID 字符串的主键。**用户 id**和**车辆 id**字段分别表示当前正在使用骑乘设备和车辆的用户。用户解锁自行车时创建**骑乘**文档，创建时插入**开始时间**和**开始位置**字段。当用户在行程结束时锁定自行车时，会创建**结束时间**和**结束位置**字段。有一个可选字段表示反馈，其中记录星级和用户评论。

## 骑乘日志

**骑乘日志**采集以 30 秒的间隔记录每个活动骑乘的进度。此集合主要用于分析和报告目的。通过使用此收集的数据，可以实时跟踪任何骑乘设施的完整路径。在骑行过程中，如果自行车发生事故或丢失，则自行车最后记录的条目可以帮助找到它。以下代码段显示了同一骑自行车过程的三个连续日志条目：

```js
{
    "_id" : "6b868a75-5c47-4b36-a706-e84b486d4c40",
    "ride_id" : " -ee02-4fa8-aba7-88c33751d487",
    "time" : ISODate("2020-11-25T02:10:00Z"),
    "location":{
        "type":"Point",
        "coordinates":[111.189631, -72.454577]
    }
}
{
    "_id" : "e33f9d94-8787-4b0d-aa52-08795fab2b38",
    "ride_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "time" : ISODate("2020-11-25T02:10:30Z"),
    "location":{
        "type":"Point",
        "coordinates":[111.189425 -72.454582]
    }
}
{
    "_id" : "8d39567b-efc5-43d4-9034-f636c97c97b3",
    "ride_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "time" : ISODate("2020-11-25T02:11:00Z"),
    "location":{
        "type":"Point",
        "coordinates":[111.189291, -72.454585]
    }
}
```

每个日志条目都有一个唯一 UUID 字符串的主键。该文档包含**骑乘 id**，有助于跟踪骑乘、用户和车辆详细信息。**时间**和**位置**字段有助于跟踪给定时间车辆的地理坐标。出于分析目的，此集合可以以多种方式用于生成有用的统计数据，以识别和解决现有问题或进行未来改进。例如，此集合有助于查找所有骑乘的平均自行车速度、特定区域的平均速度或特定年龄组内骑乘者的平均速度。通过比较这些统计数据，该委员会可以确定城市中哪些地区的骑车人骑车速度较慢，并提供足够的自行车道。此外，他们还可以根据骑手的年龄检查自行车使用情况和速度模式，并指定安全速度限制。该系列还有助于为骑自行车的人找到城市中最受欢迎和最不受欢迎的地区。根据这一信息，委员会可以采取适当措施，在受欢迎的地区提供更多的自行车，而在不受欢迎的地区提供更少的自行车。

本节介绍了 MongoDB 数据库结构的详细信息以及对这些集合的剖析。在下一节中，我们将使用一些示例场景浏览各种用例。

# 用例

前面几节概述了城市自行车系统、需求和注意事项以及数据库结构。现在，我们将使用一些示例场景列出系统用例，并通过它们运行数据库查询。这将有助于验证设计的正确性，并有助于确保没有遗漏任何要求。

### 用户找到可用的自行车

考虑一种情况，用户打开手机上的应用程序，点击在他们的位置半径 300 米处找到一辆自行车。用户当前坐标为*经度 111.189528，纬度-72.454567*。下一个代码段显示了相应的数据库查询：

```js
db.vehicles.find({
    "vehicle_type" : "bike", 
    "status" : "available",
    "location" : {
        $near : {
            $geometry : {
                "type" : "Point",
                "coordinates" : [111.189528, -72.454567]
            },
            $maxDistance : 300
        }
    }
})
```

查询将查找当前可用且位于请求的 300 米半径内的所有自行车。

### 用户解锁自行车

用户扫描自行车上的二维码（**227fe7e0-76c7-410b-afe8-6ae5785ac937**并点击解锁。解锁自行车将启动骑行，并使其他用户无法使用自行车。

使用我们的数据库，这个场景可以分两步实现。首先，应该更改自行车的状态，然后创建一个新的骑乘条目。以下代码段显示了如何执行此操作：

```js
db.vehicles.findOneAndUpdate(
    {"_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937"},
    {
        $set : {"status" : "on_ride"}
    }
)
```

前面的命令将自行车的状态设置为**on_ride**。由于自行车的状态不再设置为**可用**，因此它不会出现在其他用户执行的自行车搜索中。下一段代码显示了**骑乘**集合上的**插入**命令：

```js
db.rides.insert({
    "_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "user_id" : "a6e36e30-41fa-45bf-93c5-83da4efeed37",
    "vehicle_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937",
    "start_time" : new Date("2020-11-25T02:10:00Z"),
    "start_location" : {
        "type" : "Point",
        "coordinates" : [
            111.189631,
            -72.454577
        ]
    }
})
```

此**insert**命令创建一个新的骑乘条目，并将用户、自行车和骑乘关联在一起。它还捕获骑乘的开始时间和开始位置。

### 用户锁定自行车

在旅程结束时，用户将自行车停放在安全的位置，打开应用程序，然后单击屏幕完成旅程。这也需要两个步骤。首先，需要使用行程结束详细信息更新骑乘条目。其次，需要更新车辆的状态和新位置：

```js
db.rides.findOneAndUpdate(
    {"_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487"},
    {
        $set : {
            "end_time" : new Date("2020-11-25T03:17:00Z"),
            "end_location" : {
                "type" : "Point",
                "coordinates" : [
                    111.045789,
                    -72.456144
                ]
            }
        }
    }
)
```

前面的命令设置骑乘的结束时间和坐标。请注意，没有结束位置和结束时间表示骑乘仍在进行中：

```js
db.vehicles.findOneAndUpdate(
    {"_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937"},
    {
        $set : {
            "status" : "available",
            "location" : {
                "type" : "Point",
                "coordinates" : [
                    111.045789,
                    -72.456144
                ]
            }
        }
    }
)
```

上述命令将车辆标记为可用，并使用新坐标更新其位置。

### 系统记录骑乘设施的地理坐标

每 30 秒，一个计划作业查询活动骑乘的所有自行车，通过 GPS 收集其最新地理坐标，并为每个自行车创建骑乘日志条目。下一个代码片段显示了针对**日志**集合的**insert**命令：

```js
db.ride_logs.insert({
    "_id" : "8d39567b-efc5-43d4-9034-f636c97c97b3",
    "ride_id" : "ebe89a65-ee02-4fa8-aba7-88c33751d487",
    "time" : new Date(),
    "location":{
        "type":"Point",
        "coordinates":[
            111.189291, 
            -72.454585
        ]
   }
})
```

前面的命令演示了如何创建新的行驶日志。它使用**new Date（）**将当前时间戳记录在*GMT*中，并插入给定自行车骑行的最新位置坐标。

### 系统发送自行车进行维护

所有的自行车每两周都需要定期保养。技术人员对自行车进行定期检查，并修复任何已识别的问题。每晚午夜进行一项预定工作，并检查所有自行车的最后保养日期。这项工作有助于找到所有在过去 15 天内未进行维护的自行车，并将其标记为到期维护。然后自行车就不可用了。以下命令查找上次维护日期比当前日期早 15 天以上的所有自行车：

```js
db.vehicles.updateMany(
    {
        "last_maintenance_date" : {
            $lte : new Date(new Date() - 1000 * 60 * 60 * 24 * 15)
        }
    },
    {
        $set : {"status" : "under_maintenance"}
    }
)
```

**1000*60*60*24*15**表达式以毫秒为单位表示 15 天。然后从当前日期中减去计算出的毫秒数，得到 15 天前的日期。如果自行车的**上次维护日期**字段大于 15 天，则其状态在下标记为**。**

### 技师每两周进行一次维护

技术人员小组找到所有处于维护状态的**自行车，进行维护，并使自行车可用：**

```js
db.vehicles.findOneAndUpdate(
    {"_id" : "227fe7e0-76c7-410b-afe8-6ae5785ac937"},
    {
        $set : {
            "status" : "available",
            "last_maintenance_date" : new Date()
        }
    }
)
```

此命令将自行车状态设置为可用，并将**上次维护日期**设置为当前时间戳。

### 生成统计信息

分析员的任务是使用应用程序生成的各种统计数据来确定改进和优化的领域，并根据花费的资金来评估系统的好处。他们可以以多种方式使用数据库；然而，我们将使用一个示例用例进行演示。

城市中央公园（位于*108.146337，-78.617716*是一个非常受欢迎和拥挤的地方。为了让骑自行车的人更容易骑行，市政会在公园周围修建了专用自行车道。委员会想知道有多少城市自行车骑手在这些车道上行驶。

分析人员执行一个快速查询，查找在中央公园 200 米半径范围内骑自行车的人：

```js
db.ride_logs.distinct(
    "ride_id", 
    {
        "location" : {
            $near : {
                $geometry : {
                    "type" : "Point",
                    "coordinates" : [108.146337, -78.617716]
                },
                $maxDistance : 200
            }
        }
    }
)
```

对**骑乘日志**的这一独特查询过滤所有日志条目，以查找在地理位置上靠近给定位置的骑乘次数，并打印骑乘 ID。

在本节中，我们讨论了应用程序可以使用的各种场景，并使用 MongoDB 查询和命令来满足这些场景。

# 总结

本章探讨了一个虚构的市议会实施的城市自行车项目。这首先是审议理事会面临的预计问题，以及项目提案可能如何解决这些问题。这些考虑因素包括委员会的时间和预算、不确定的需求，以及技术团队决定使用基于 MongoDB Atlas 的**数据库即服务**（**DBaaS**解决方案来解决所有这些问题。您详细研究了数据库设计，并回顾了 MongoDB 查询，以便在此示例系统中记录、实现和解决几个示例场景。

在本课程中，您通过实际示例和应用程序了解了 MongoDB 的各种特性和优点。您从 MongoDB 的基础知识开始，了解它的性质和功能，以及它与传统 RDBMS 数据库的区别。然后，您发现了它基于 JSON 的数据结构和灵活的模式所带来的好处。接下来，您学习了从集合中查找、聚合、插入、更新和删除数据的核心数据库操作和操作员，以及更高级的概念，如性能改进、复制、备份和恢复以及数据可视化。您还使用 MongoDB Atlas 在云中创建了自己的 MongoDB 数据库集群，然后将一个真实示例数据集加载到集群中，您在本书中使用了该集群。最后，本章通过演示 MongoDB 解决方案如何解决实际问题来结束本课程。

通过学习本书所学到的知识和技能，您将能够实现一个高度可扩展、健壮的数据库设计，以满足工作场所或个人项目的业务需求。